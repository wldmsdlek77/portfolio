<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<body th:fragment="main-body">
    <div id="adm_wrap">
        <header>
            <div class="head">
                <h1 onclick="window.location.href='https://kje-portfolio.site/profile/index'">PortFolio</h1>
            </div>
        </header>

        <div id="container">
            <div class="menu_toggle"><span></span></div>
            <!-- 좌측 영역 -->
            <div class="lcontent">
                <!-- 메뉴 -->
                <nav>
                    <ul>
                        <li class="has_sub"><a href="javascript: void(0);" class="on"><span>PROFILE</span></a>
                        <ul>
                            <li><a href="/profile/index" >About me</a></li>
                            <li><a href="/profile/expr">Experience</a></li>
                            <li><a href="/profile/skills">Skills</a></li>
                            <li><a href="/profile/awards">Certificate & Awards</a></li>
                        </ul>
                        </li>
                        <li class="has_sub"><a href="javascript: void(0);" class="on"><span>PROJECT</span></a>
                        <ul>
                            <li><a href="/project/work">작업환경 종합관리 플랫폼</a></li>
                            <li><a href="/project/capstone">캡스톤 디자인</a></li>
                            <li><a href="/project/smart">스마트팜 모니터링 시스템</a></li>
                            <li><a href="/project/solar">태양광 모니터링 시스템</a></li>
                        </ul>
                        </li>
                        <li><a href="/post/list"><span>Q&A</span></a></li>
                    </ul>
                </nav>
            </div>

            <!-- 우측 영역 -->
            <div class="rcontent">
                <!-- 페이지별 콘텐츠 -->
                <th:block layout:fragment="content"></th:block>
            </div>

        </div> <!-- container -->
<!--        <footer>Copyright(c)네임즈.All rights reserved.</footer>-->
    </div>

    <script th:src="@{/js/function.js}"></script>
    <script th:src="@{/js/jquery-3.6.0.min.js}"></script>
    <script th:src="@{/js/common.js}"></script>
    <script src="https://kit.fontawesome.com/950c18c7be.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.menu_toggle');
            const container = document.querySelector('#container');
            const lcontent = document.querySelector('.lcontent');
            const header = document.querySelector('header');
            const subMenu = document.querySelectorAll('#container .lcontent > nav > ul > li > ul > li > a');

            window.addEventListener('scroll', function() {
                if(window.scrollY > header.offsetHeight) {
                    lcontent.style.top = '0px';
                    menuToggle.style.top = '50px';
                } else {
                    lcontent.style.top = '50px';
                    menuToggle.style.top = '80px';
                }

                if (window.scrollX === 0) {
                    lcontent.style.position = 'fixed';
                    menuToggle.style.position = 'fixed';
                } else {
                    lcontent.style.position = 'absolute';
                    menuToggle.style.position = 'absolute';
                    lcontent.style.top = window.scrollY + 50 + 'px';
                    menuToggle.style.top = window.scrollY + 80 + 'px';
                }
            });
            menuToggle.addEventListener('click', function() {
                container.classList.toggle('sub_none');
                menuToggle.classList.toggle('active');
            });

            document.addEventListener('DOMContentLoaded', function() {
            const subMenu = document.querySelectorAll('#container .lcontent > nav > ul > li > ul > li > a');
            const currentPath = window.location.pathname;

            subMenu.forEach(function(menu) {
                if (menu.getAttribute('href') === currentPath) {
                    menu.style.fontWeight = 'bold';
                    menu.style.fontSize = '15px';
                    menu.classList.add('active');
                }
            });
        });

        });
    </script>
    <th:block layout:fragment="script"></th:block>
</body>
</html>